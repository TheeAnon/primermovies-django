{"ast":null,"code":"import _defineProperty from\"D:/Japhe/Code/django-react/primermovies/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"D:/Japhe/Code/django-react/primermovies/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/Japhe/Code/django-react/primermovies/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{reset_password}from\"../actions/auth\";import{connect,useSelector}from\"react-redux\";import React,{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ResetPassword=function ResetPassword(_ref){var reset_password=_ref.reset_password;var error=useSelector(function(state){return state.auth.error;});var _useState=useState({email:\"\"}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),requestSent=_useState4[0],setRequestSent=_useState4[1];var email=formData.email;var _onChange=function onChange(e){return setFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},e.target.name,e.target.value)));};var _onSubmit=function onSubmit(e){e.preventDefault();reset_password(email);error===null&&setRequestSent(true);};return/*#__PURE__*/_jsx(\"div\",{className:\"relative flex flex-col justify-center overflow-hidden p-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full p-6 m-auto bg-white rounded-md sm:max-w-lg\",children:requestSent?/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col space-y-5\",children:[/*#__PURE__*/_jsx(\"a\",{href:true,className:\"btn btn-md rounded-none btn-ghost normal-case text-xl font-bold text-center flex-1 hover:bg-white\",children:\"Password reset link has been sent to your email account. Followthe link to change your password.\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/\",className:\"btn btn-md normal-case text-xl font-bold text-center flex-1 hover:bg-white\",children:\"Go back home\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col space-y-5\",children:[/*#__PURE__*/_jsxs(\"form\",{className:\"space-y-6\",onSubmit:function onSubmit(e){return _onSubmit(e);},children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex p-0\",children:/*#__PURE__*/_jsx(\"a\",{href:true,className:\"btn btn-md rounded-none btn-ghost normal-case text-xl font-bold text-center flex-1 hover:bg-white\",children:\"Enter email address to receive password reset link\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{for:\"email\",className:\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{required:true,type:\"email\",name:\"email\",value:email,autoComplete:\"off\",onChange:function onChange(e){return _onChange(e);},id:\"email\",className:\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white\",placeholder:\"name@gmail.com\"})]}),error&&/*#__PURE__*/_jsx(\"label\",{className:\"label-text-alt text-red-500\",children:error}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-square w-full\",children:\"Send link\"})]}),/*#__PURE__*/_jsx(\"a\",{href:\"/signup\",className:\"text-sm text-blue-700 hover:underline dark:text-blue-500\",children:\"Don't have an account? Sign up\"})]})})});};export default connect(null,{reset_password:reset_password})(ResetPassword);","map":{"version":3,"names":["reset_password","connect","useSelector","React","useState","jsx","_jsx","jsxs","_jsxs","ResetPassword","_ref","error","state","auth","_useState","email","_useState2","_slicedToArray","formData","setFormData","_useState3","_useState4","requestSent","setRequestSent","onChange","e","_objectSpread","_defineProperty","target","name","value","onSubmit","preventDefault","className","children","href","for","required","type","autoComplete","id","placeholder"],"sources":["D:/Japhe/Code/django-react/primermovies/frontend/src/pages/reset_password.js"],"sourcesContent":["import { reset_password } from \"../actions/auth\";\r\nimport { connect, useSelector } from \"react-redux\";\r\nimport React, { useState } from \"react\";\r\n\r\nconst ResetPassword = ({ reset_password }) => {\r\n  const error = useSelector((state) => state.auth.error);\r\n  const [formData, setFormData] = useState({\r\n    email: \"\",\r\n  });\r\n  const [requestSent, setRequestSent] = useState(false);\r\n\r\n  const { email } = formData;\r\n\r\n  const onChange = (e) =>\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    reset_password(email);\r\n    error === null && setRequestSent(true);\r\n  };\r\n\r\n  return (\r\n    <div className=\"relative flex flex-col justify-center overflow-hidden p-4\">\r\n      <div className=\"w-full p-6 m-auto bg-white rounded-md sm:max-w-lg\">\r\n        {requestSent ? (\r\n          <div className=\"flex flex-col space-y-5\">\r\n            <a\r\n              href\r\n              className=\"btn btn-md rounded-none btn-ghost normal-case text-xl font-bold text-center flex-1 hover:bg-white\"\r\n            >\r\n              Password reset link has been sent to your email account. Followthe\r\n              link to change your password.\r\n            </a>\r\n            <a\r\n              href=\"/\"\r\n              className=\"btn btn-md normal-case text-xl font-bold text-center flex-1 hover:bg-white\"\r\n            >\r\n              Go back home\r\n            </a>\r\n          </div>\r\n        ) : (\r\n          <div className=\"flex flex-col space-y-5\">\r\n            <form className=\"space-y-6\" onSubmit={(e) => onSubmit(e)}>\r\n              <div className=\"flex p-0\">\r\n                <a\r\n                  href\r\n                  className=\"btn btn-md rounded-none btn-ghost normal-case text-xl font-bold text-center flex-1 hover:bg-white\"\r\n                >\r\n                  Enter email address to receive password reset link\r\n                </a>\r\n              </div>\r\n              <div>\r\n                <label\r\n                  for=\"email\"\r\n                  className=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\"\r\n                >\r\n                  Email\r\n                </label>\r\n                <input\r\n                  required\r\n                  type=\"email\"\r\n                  name=\"email\"\r\n                  value={email}\r\n                  autoComplete=\"off\"\r\n                  onChange={(e) => onChange(e)}\r\n                  id=\"email\"\r\n                  className=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white\"\r\n                  placeholder=\"name@gmail.com\"\r\n                />\r\n              </div>\r\n              {error && (\r\n                <label className=\"label-text-alt text-red-500\">{error}</label>\r\n              )}\r\n              <button type=\"submit\" className=\"btn btn-square w-full\">\r\n                Send link\r\n              </button>\r\n            </form>\r\n            <a\r\n              href=\"/signup\"\r\n              className=\"text-sm text-blue-700 hover:underline dark:text-blue-500\"\r\n            >\r\n              Don't have an account? Sign up\r\n            </a>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default connect(null, { reset_password })(ResetPassword);\r\n"],"mappings":"mZAAA,OAASA,cAAc,KAAQ,iBAAiB,CAChD,OAASC,OAAO,CAAEC,WAAW,KAAQ,aAAa,CAClD,MAAO,CAAAC,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAExC,GAAM,CAAAC,aAAa,CAAG,QAAhB,CAAAA,aAAaA,CAAAC,IAAA,CAA2B,IAArB,CAAAV,cAAc,CAAAU,IAAA,CAAdV,cAAc,CACrC,GAAM,CAAAW,KAAK,CAAGT,WAAW,CAAC,SAACU,KAAK,QAAK,CAAAA,KAAK,CAACC,IAAI,CAACF,KAAK,GAAC,CACtD,IAAAG,SAAA,CAAgCV,QAAQ,CAAC,CACvCW,KAAK,CAAE,EACT,CAAC,CAAC,CAAAC,UAAA,CAAAC,cAAA,CAAAH,SAAA,IAFKI,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAG5B,IAAAI,UAAA,CAAsChB,QAAQ,CAAC,KAAK,CAAC,CAAAiB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA9CE,WAAW,CAAAD,UAAA,IAAEE,cAAc,CAAAF,UAAA,IAElC,GAAQ,CAAAN,KAAK,CAAKG,QAAQ,CAAlBH,KAAK,CAEb,GAAM,CAAAS,SAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAIC,CAAC,QACjB,CAAAN,WAAW,CAAAO,aAAA,CAAAA,aAAA,IAAMR,QAAQ,KAAAS,eAAA,IAAGF,CAAC,CAACG,MAAM,CAACC,IAAI,CAAGJ,CAAC,CAACG,MAAM,CAACE,KAAK,EAAE,CAAC,GAE/D,GAAM,CAAAC,SAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAIN,CAAC,CAAK,CACtBA,CAAC,CAACO,cAAc,CAAC,CAAC,CAClBhC,cAAc,CAACe,KAAK,CAAC,CACrBJ,KAAK,GAAK,IAAI,EAAIY,cAAc,CAAC,IAAI,CAAC,CACxC,CAAC,CAED,mBACEjB,IAAA,QAAK2B,SAAS,CAAC,2DAA2D,CAAAC,QAAA,cACxE5B,IAAA,QAAK2B,SAAS,CAAC,mDAAmD,CAAAC,QAAA,CAC/DZ,WAAW,cACVd,KAAA,QAAKyB,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtC5B,IAAA,MACE6B,IAAI,MACJF,SAAS,CAAC,mGAAmG,CAAAC,QAAA,CAC9G,kGAGD,CAAG,CAAC,cACJ5B,IAAA,MACE6B,IAAI,CAAC,GAAG,CACRF,SAAS,CAAC,4EAA4E,CAAAC,QAAA,CACvF,cAED,CAAG,CAAC,EACD,CAAC,cAEN1B,KAAA,QAAKyB,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtC1B,KAAA,SAAMyB,SAAS,CAAC,WAAW,CAACF,QAAQ,CAAE,SAAAA,SAACN,CAAC,QAAK,CAAAM,SAAQ,CAACN,CAAC,CAAC,EAAC,CAAAS,QAAA,eACvD5B,IAAA,QAAK2B,SAAS,CAAC,UAAU,CAAAC,QAAA,cACvB5B,IAAA,MACE6B,IAAI,MACJF,SAAS,CAAC,mGAAmG,CAAAC,QAAA,CAC9G,oDAED,CAAG,CAAC,CACD,CAAC,cACN1B,KAAA,QAAA0B,QAAA,eACE5B,IAAA,UACE8B,GAAG,CAAC,OAAO,CACXH,SAAS,CAAC,8DAA8D,CAAAC,QAAA,CACzE,OAED,CAAO,CAAC,cACR5B,IAAA,UACE+B,QAAQ,MACRC,IAAI,CAAC,OAAO,CACZT,IAAI,CAAC,OAAO,CACZC,KAAK,CAAEf,KAAM,CACbwB,YAAY,CAAC,KAAK,CAClBf,QAAQ,CAAE,SAAAA,SAACC,CAAC,QAAK,CAAAD,SAAQ,CAACC,CAAC,CAAC,EAAC,CAC7Be,EAAE,CAAC,OAAO,CACVP,SAAS,CAAC,iNAAiN,CAC3NQ,WAAW,CAAC,gBAAgB,CAC7B,CAAC,EACC,CAAC,CACL9B,KAAK,eACJL,IAAA,UAAO2B,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CAAEvB,KAAK,CAAQ,CAC9D,cACDL,IAAA,WAAQgC,IAAI,CAAC,QAAQ,CAACL,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,WAExD,CAAQ,CAAC,EACL,CAAC,cACP5B,IAAA,MACE6B,IAAI,CAAC,SAAS,CACdF,SAAS,CAAC,0DAA0D,CAAAC,QAAA,CACrE,gCAED,CAAG,CAAC,EACD,CACN,CACE,CAAC,CACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAjC,OAAO,CAAC,IAAI,CAAE,CAAED,cAAc,CAAdA,cAAe,CAAC,CAAC,CAACS,aAAa,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}