{"ast":null,"code":"import _defineProperty from\"D:/Japhe/Code/django-react/primermovies/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"D:/Japhe/Code/django-react/primermovies/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/Japhe/Code/django-react/primermovies/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{reset_password_confirm}from\"../actions/auth\";import{useNavigate,useParams}from\"react-router-dom\";import React,{useState}from\"react\";import{connect,useSelector}from\"react-redux\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ResetPasswordConfirm=function ResetPasswordConfirm(_ref){var reset_password_confirm=_ref.reset_password_confirm;var error=useSelector(function(state){return state.auth.error;});var _useParams=useParams(),uid=_useParams.uid,token=_useParams.token;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),passError=_useState2[0],setPassErr=_useState2[1];var _useState3=useState({new_password:\"\",re_new_password:\"\"}),_useState4=_slicedToArray(_useState3,2),formData=_useState4[0],setFormData=_useState4[1];var new_password=formData.new_password,re_new_password=formData.re_new_password;var _onChange=function onChange(e){return setFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},e.target.name,e.target.value)));};var _onSubmit=function onSubmit(e){e.preventDefault();if(new_password===re_new_password){setPassErr(\"\");reset_password_confirm(uid,token,new_password,re_new_password);}else{setPassErr(\"Your passwords do not match\");}};return/*#__PURE__*/_jsx(\"div\",{className:\"relative flex flex-col justify-center overflow-hidden p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full p-6 m-auto bg-white rounded-md sm:max-w-lg flex flex-col space-y-5\",children:[/*#__PURE__*/_jsxs(\"form\",{className:\"space-y-6\",onSubmit:function onSubmit(e){return _onSubmit(e);},children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex p-0\",children:/*#__PURE__*/_jsx(\"a\",{href:true,className:\"btn btn-md rounded-none btn-ghost normal-case text-xl font-bold text-center flex-1 hover:bg-white\",children:\"Change password\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{for:\"email\",className:\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\",children:\"New Password\"}),/*#__PURE__*/_jsx(\"input\",{required:true,type:\"password\",name:\"new_password\",value:new_password,autoComplete:\"off\",onChange:function onChange(e){return _onChange(e);},className:\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white\",placeholder:\"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{for:\"password\",className:\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\",children:\"Confirm New Password\"}),/*#__PURE__*/_jsx(\"input\",{required:true,type:\"password\",name:\"re_new_password\",value:re_new_password,onChange:function onChange(e){return _onChange(e);},minLength:6,placeholder:\"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\",className:\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white\"}),passError&&/*#__PURE__*/_jsx(\"label\",{className:\"label-text-alt text-red-500\",children:passError})]}),error&&/*#__PURE__*/_jsx(\"label\",{className:\"label-text-alt text-red-500\",children:error}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-square w-full\",children:\"Save\"})]}),/*#__PURE__*/_jsx(\"a\",{href:\"/signin\",className:\"text-sm text-blue-700 hover:underline dark:text-blue-500\",children:\"Remembered your password? Sign in instead\"})]})});};export default connect(reset_password_confirm)(ResetPasswordConfirm);","map":{"version":3,"names":["reset_password_confirm","useNavigate","useParams","React","useState","connect","useSelector","jsx","_jsx","jsxs","_jsxs","ResetPasswordConfirm","_ref","error","state","auth","_useParams","uid","token","_useState","_useState2","_slicedToArray","passError","setPassErr","_useState3","new_password","re_new_password","_useState4","formData","setFormData","onChange","e","_objectSpread","_defineProperty","target","name","value","onSubmit","preventDefault","className","children","href","for","required","type","autoComplete","placeholder","minLength"],"sources":["D:/Japhe/Code/django-react/primermovies/frontend/src/pages/reset_password_confirm.js"],"sourcesContent":["import { reset_password_confirm } from \"../actions/auth\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport React, { useState } from \"react\";\r\nimport { connect, useSelector } from \"react-redux\";\r\n\r\nconst ResetPasswordConfirm = ({ reset_password_confirm }) => {\r\n  const error = useSelector((state) => state.auth.error);\r\n  const { uid, token } = useParams();\r\n  const [passError, setPassErr] = useState(\"\");\r\n  const [formData, setFormData] = useState({\r\n    new_password: \"\",\r\n    re_new_password: \"\",\r\n  });\r\n\r\n  const { new_password, re_new_password } = formData;\r\n\r\n  const onChange = (e) =>\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (new_password === re_new_password) {\r\n      setPassErr(\"\");\r\n      reset_password_confirm(uid, token, new_password, re_new_password);\r\n    } else {\r\n      setPassErr(\"Your passwords do not match\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"relative flex flex-col justify-center overflow-hidden p-4\">\r\n      <div className=\"w-full p-6 m-auto bg-white rounded-md sm:max-w-lg flex flex-col space-y-5\">\r\n        <form className=\"space-y-6\" onSubmit={(e) => onSubmit(e)}>\r\n          <div className=\"flex p-0\">\r\n            <a\r\n              href\r\n              className=\"btn btn-md rounded-none btn-ghost normal-case text-xl font-bold text-center flex-1 hover:bg-white\"\r\n            >\r\n              Change password\r\n            </a>\r\n          </div>\r\n          <div>\r\n            <label\r\n              for=\"email\"\r\n              className=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\"\r\n            >\r\n              New Password\r\n            </label>\r\n            <input\r\n              required\r\n              type=\"password\"\r\n              name=\"new_password\"\r\n              value={new_password}\r\n              autoComplete=\"off\"\r\n              onChange={(e) => onChange(e)}\r\n              className=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white\"\r\n              placeholder=\"••••••••\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label\r\n              for=\"password\"\r\n              className=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\"\r\n            >\r\n              Confirm New Password\r\n            </label>\r\n            <input\r\n              required\r\n              type=\"password\"\r\n              name=\"re_new_password\"\r\n              value={re_new_password}\r\n              onChange={(e) => onChange(e)}\r\n              minLength={6}\r\n              placeholder=\"••••••••\"\r\n              className=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white\"\r\n            />\r\n            {passError && (\r\n              <label className=\"label-text-alt text-red-500\">{passError}</label>\r\n            )}\r\n          </div>\r\n          {error && (\r\n            <label className=\"label-text-alt text-red-500\">{error}</label>\r\n          )}\r\n          <button type=\"submit\" className=\"btn btn-square w-full\">\r\n            Save\r\n          </button>\r\n        </form>\r\n        <a\r\n          href=\"/signin\"\r\n          className=\"text-sm text-blue-700 hover:underline dark:text-blue-500\"\r\n        >\r\n          Remembered your password? Sign in instead\r\n        </a>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default connect(reset_password_confirm)(ResetPasswordConfirm);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}